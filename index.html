<!DOCTYPE html>
< lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BÃ© Minh Nguyá»‡t ğŸ’– Love App</title>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500;700&display=swap" rel="stylesheet" />
  <style>
  /* ğŸŒ¸ ToÃ n bá»™ trang */
body {
  font-family: 'Quicksand', sans-serif;
  margin: 0;
  padding: 0;
  background: linear-gradient(to right, #ffe4f1, #f8bbd0);
  color: #880e4f;
  overflow-x: hidden;
  transition: background 1s ease;
}

/* ğŸ’– MÃ n hÃ¬nh Ä‘Äƒng nháº­p */
#loginScreen {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: linear-gradient(to right,#f8bbd0,#fce4ec);
  z-index: 9999;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
}

#loginScreen h2 {
  color: #d81b60;
  font-size: 22px;
  margin-bottom: 10px;
}

#loginScreen input {
  padding: 10px;
  border-radius: 10px;
  border: 2px solid #f06292;
  width: 80%;
  max-width: 300px;
  margin: 10px;
  font-size: 16px;
}

#loginScreen button {
  padding: 10px 20px;
  background-color: #ff8fa3;
  color: white;
  border: none;
  border-radius: 20px;
  font-size: 16px;
  cursor: pointer;
  box-shadow: 0 4px 6px rgba(0,0,0,0.1);
  transition: background 0.3s ease;
}

#loginScreen button:hover {
  background-color: #ff6b89;
}

/* ğŸ§¸ Header */
header {
  text-align: center;
  padding: 20px;
  background-color: #fff0f6;
  box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}

.avatar {
  width: 120px;
  height: 120px;
  border-radius: 50%;
  border: 4px solid #f48fb1;
  object-fit: cover;
  box-shadow: 0 0 15px #f06292;
  margin-bottom: 10px;
}

h1 {
  font-size: 24px;
  margin: 10px 0;
}

.chuc {
  font-size: 16px;
  color: #d81b60;
  animation: fadeIn 2s ease-in-out;
}

@keyframes fadeIn {
  from {opacity: 0;}
  to {opacity: 1;}
}

/* ğŸ•’ Thá»i gian */
.timeBox {
  text-align: center;
  font-size: 16px;
  margin-top: 10px;
  color: #6a1b9a;
}

/* ğŸ“… Dropdown vÃ  nÃºt */
select, button {
  display: block;
  width: 90%;
  max-width: 400px;
  margin: 15px auto;
  padding: 10px;
  font-size: 16px;
  border-radius: 12px;
  border: 2px solid #f06292;
  background-color: #fff;
  color: #d81b60;
  cursor: pointer;
  transition: 0.3s;
}

button:hover {
  background-color: #fce4ec;
}

/* ğŸ½ï¸ Thá»±c Ä‘Æ¡n */
.menu {
  max-width: 500px;
  margin: 20px auto;
  background-color: #ffffff;
  padding: 20px;
  border-radius: 20px;
  box-shadow: 0 0 15px rgba(0,0,0,0.1);
  border: 2px solid #f8bbd0;
}

.meal {
  margin-bottom: 15px;
  padding: 10px;
  background-color: #fce4ec;
  border-radius: 12px;
  border-left: 5px solid #ec407a;
}

.meal h3 {
  margin-bottom: 5px;
  font-size: 18px;
  color: #ad1457;
}

.meal p {
  margin: 0;
  font-size: 15px;
}

/* ğŸ’Œ Lá»i yÃªu thÆ°Æ¡ng */
.loveMessage {
  text-align: center;
  font-size: 16px;
  color: #c2185b;
  margin-top: 10px;
  animation: fadeIn 1s ease-in-out;
}

/* ğŸ’¬ Popup */
.popup {
  position: fixed;
  top: 30%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: #fff0f6;
  padding: 20px;
  border-radius: 15px;
  box-shadow: 0 0 20px rgba(0,0,0,0.2);
  font-size: 18px;
  color: #d81b60;
  display: none;
  z-index: 999;
}

/* ğŸ’– TrÃ¡i tim bay */
.heart {
  position: fixed;
  bottom: -20px;
  font-size: 24px;
  animation: floatUp 6s infinite ease-in;
  color: #ff5e7e;
  pointer-events: none;
}

@keyframes floatUp {
  0% { transform: translateY(0) scale(1); opacity: 1; }
  100% { transform: translateY(-100vh) scale(1.5); opacity: 0; }
}

/* ğŸ“ Ghi chÃº */
.noteBox {
  max-width: 500px;
  margin: 20px auto;
  padding: 20px;
  background-color: #fff0f6;
  border-radius: 15px;
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
  text-align: center;
}

.noteBox textarea {
  width: 100%;
  height: 100px;
  padding: 12px;
  font-size: 15px;
  border-radius: 12px;
  border: 2px solid #f48fb1;
  resize: none;
  margin-bottom: 10px;
}
#noteSection {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-top: 30px;
  padding: 20px;
  background: linear-gradient(to right, #fce4ec, #f8bbd0);
  border-radius: 16px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  max-width: 400px;
  margin-left: auto;
  margin-right: auto;
}

#noteSection h3 {
  font-size: 20px;
  color: #880e4f;
  margin-bottom: 10px;
}

#dailyNote {
  width: 100%;
  max-width: 360px;
  padding: 12px;
  border-radius: 12px;
  border: 2px solid #880e4f;
  font-size: 16px;
  resize: none;
  margin-bottom: 12px;
}

#noteSection button {
  padding: 10px 20px;
  margin: 6px;
  border: none;
  border-radius: 10px;
  background-color: #d81b60;
  color: white;
  font-weight: bold;
  cursor: pointer;
  transition: background 0.3s ease;
}

#noteSection button:hover {
  background-color: #c2185b;
}


/* ğŸ“† Lá»‹ch */
#calendarContainer {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 10px;
  max-width: 400px;
  margin: 20px auto;
  text-align: center;
}

.day {
  padding: 15px;
  border-radius: 12px;
  background: #fce4ec;
  color: #880e4f;
  font-weight: bold;
  cursor: pointer;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  transition: all 0.3s ease;
  position: relative;
}

.day.checked {
  background: #f8bbd0;
  color: white;
}

.day.checked::after {
  content: "ğŸ’–";
  position: absolute;
  top: 5px;
  right: 5px;
}

/* ğŸ‘£ Footer */
footer {
  text-align: center;
  padding: 20px;
  font-size: 14px;
  color: #6a1b9a;
  background-color: #fff0f6;
}


  </style>
</head>
<body>
  <div id="loginScreen">
    <h2>ğŸŒ¸ ChÃ o má»«ng Ä‘áº¿n vá»›i tháº¿ giá»›i cá»§a bÃ© Minh Nguyá»‡t ğŸ’–</h2>
    <input id="nameInput" type="text" placeholder="Nháº­p tÃªn cá»§a bÃ©..." />
    <button onclick="enterSite()">âœ¨ VÃ o xem thá»±c Ä‘Æ¡n</button>
  </div>

  <header style="display:none;" id="mainContent">
    <img src="img/mn.jpg" alt="BÃ© Minh Nguyá»‡t" class="avatar" />
    <h1>Thá»±c ÄÆ¡n Giáº£m CÃ¢n Cho BÃ© Minh Nguyá»‡t ğŸ’–</h1>
    <p class="chuc" id="dailyGreeting">ğŸ’Œ ChÃºc bÃ© má»™t ngÃ y tuyá»‡t vá»i!</p>
    <div class="timeBox" id="timeDisplay"></div>
  </header>

  <select id="daySelector" style="display:none;"></select>
  <button onclick="sendLove()" style="display:none;">ğŸ’– Gá»­i lá»i yÃªu thÆ°Æ¡ng</button>
  <div class="loveMessage" id="loveMessage"></div>
  <div class="menu" id="menuDisplay"></div>
<div class="noteBox" id="noteSection" style="display:none; text-align:center; margin-top:20px;">
  <h3>ğŸ“ Ghi chÃº hÃ´m nay</h3>
  <textarea id="dailyNote" placeholder="BÃ© muá»‘n ghi gÃ¬ nÃ¨..." rows="4" cols="50" style="padding:10px; border-radius:8px; border:1px solid #ccc;"></textarea><br><br>
  <button onclick="saveNote()" style="margin-right:10px;">ğŸ’¾ LÆ°u ghi chÃº</button>
  <button onclick="deleteNote()">ğŸ—‘ï¸ XÃ³a ghi chÃº</button>
</div>

  <div class="popup" id="popup">ğŸ’Œ BÃ© Minh Nguyá»‡t Æ¡i, anh iu em nhiá»u láº¯m ğŸ˜˜</div>

<div style="text-align:center; margin-top:30px;">
  <h2 id="calendarTitle">ğŸ“… Lá»‹ch cá»§a bÃ© Minh Nguyá»‡t</h2>
  <select id="monthSelector"></select>
  <select id="yearSelector"></select>
  <div id="calendarContainer"></div>
</div>

 <div style="text-align: center; margin-top: 30px;">
    <button onclick="document.getElementById('bgMusic').play()">ğŸµ PhÃ¡t nháº¡c</button>
    <button onclick="document.getElementById('bgMusic').pause()">ğŸ”‡ Táº¯t nháº¡c</button>
  </div>

  <audio id="bgMusic" loop>
    <source src="piano-love-song-six-398564.mp3" type="audio/mpeg">
  </audio>


  <footer>
    âœ¨ BÃ© Minh Nguyá»‡t lÃ  cÃ´ng chÃºa xinh Ä‘áº¹p nháº¥t há»‡ máº·t trá»i âœ¨<br />
    Made with ğŸ’— by anh Huyphat
  </footer>
<script>
const menus = {
  "Thá»© 2": { icon: "ğŸ¦", meals: { SÃ¡ng: "ğŸŒ Chuá»‘i + ğŸ¥› Sá»¯a Ä‘áº­u nÃ nh", TrÆ°a: "ğŸš CÆ¡m gáº¡o lá»©t + ğŸ¥š Trá»©ng luá»™c + ğŸ¥¦ Rau luá»™c", Chiá»u: "ğŸ¶ Sá»¯a chua khÃ´ng Ä‘Æ°á»ng", Tá»‘i: "ğŸ² Canh rau + ğŸ— á»¨c gÃ  Ã¡p cháº£o" } },
  "Thá»© 3": { icon: "ğŸ¼", meals: { SÃ¡ng: "ğŸ¥£ Yáº¿n máº¡ch + Chuá»‘i + ğŸŒ± Háº¡t chia", TrÆ°a: "ğŸš CÆ¡m + ğŸŸ CÃ¡ háº¥p + ğŸ¥¬ Rau xÃ o", Chiá»u: "ğŸ TrÃ¡i cÃ¢y", Tá»‘i: "ğŸ¥— Salad + ğŸ¥š Trá»©ng luá»™c + ğŸ  Khoai lang" } },
  "Thá»© 4": { icon: "ğŸ°", meals: { SÃ¡ng: "ğŸ  Khoai lang + ğŸ¥› Sá»¯a tÆ°Æ¡i khÃ´ng Ä‘Æ°á»ng", TrÆ°a: "ğŸš CÆ¡m + ğŸ… Äáº­u hÅ© sá»‘t cÃ  + ğŸ¥¦ Rau luá»™c", Chiá»u: "ğŸ¥• NÆ°á»›c Ã©p cÃ  rá»‘t", Tá»‘i: "ğŸ² Canh bÃ­ Ä‘á» + ğŸ– Thá»‹t náº¡c + ğŸš CÆ¡m" } },
  "Thá»© 5": { icon: "ğŸ¦Š", meals: { SÃ¡ng: "ğŸ BÃ¡nh mÃ¬ Ä‘en + ğŸ³ Trá»©ng á»‘p la", TrÆ°a: "ğŸš CÆ¡m + ğŸ— Thá»‹t gÃ  + ğŸ¥¬ Rau cáº£i", Chiá»u: "ğŸ TÃ¡o", Tá»‘i: "ğŸ¥— Salad + ğŸ  Khoai lang + ğŸ¶ Sá»¯a chua" } },
  "Thá»© 6": { icon: "ğŸ¥", meals: { SÃ¡ng: "ğŸ¥£ Yáº¿n máº¡ch + ğŸ¶ Sá»¯a chua + ğŸ“ TrÃ¡i cÃ¢y", TrÆ°a: "ğŸš CÆ¡m + ğŸŸ CÃ¡ kho + ğŸ¥¦ Rau luá»™c", Chiá»u: "ğŸ¥› Sá»¯a Ä‘áº­u nÃ nh", Tá»‘i: "ğŸ² Canh rau + ğŸ¥š Trá»©ng luá»™c + ğŸš CÆ¡m gáº¡o lá»©t" } },
  "Thá»© 7": { icon: "ğŸ¶", meals: { SÃ¡ng: "ğŸŒ Chuá»‘i + ğŸ¥› Sá»¯a tÆ°Æ¡i", TrÆ°a: "ğŸš CÆ¡m + ğŸ¥© Thá»‹t bÃ² + ğŸ¥¦ Rau luá»™c", Chiá»u: "ğŸŠ Cam hoáº·c tÃ¡o", Tá»‘i: "ğŸ¥— Salad + ğŸ  Khoai lang + ğŸ¥š Trá»©ng" } },
  "Chá»§ Nháº­t": { icon: "ğŸ±", meals: { SÃ¡ng: "ğŸ BÃ¡nh mÃ¬ Ä‘en + ğŸ¥› Sá»¯a Ä‘áº­u nÃ nh", TrÆ°a: "ğŸš CÆ¡m + ğŸŸ CÃ¡ háº¥p + ğŸ¥¬ Rau xÃ o", Chiá»u: "ğŸ¹ NÆ°á»›c Ã©p trÃ¡i cÃ¢y", Tá»‘i: "ğŸ² Canh rau + ğŸ– Thá»‹t náº¡c + ğŸš CÆ¡m gáº¡o lá»©t" } }
};

const greetings = {
  "Thá»© 2": "ğŸŒ Thá»© 2 nÄƒng lÆ°á»£ng tÃ­ch cá»±c nha bÃ© iu ğŸ˜˜",
  "Thá»© 3": "ğŸŒ¼ Thá»© 3 nháº¹ nhÃ ng nhÆ° náº¯ng sá»›m ğŸ’–",
  "Thá»© 4": "ğŸŒ¸ Thá»© 4 ráº¡ng rá»¡ nhÆ° hoa anh Ä‘Ã o ğŸŒ¸",
  "Thá»© 5": "ğŸŒº Thá»© 5 tÆ°Æ¡i táº¯n nhÆ° ná»¥ cÆ°á»i bÃ© Nguyá»‡t ğŸ˜š",
  "Thá»© 6": "ğŸŒ» Thá»© 6 bung xÃµa cuá»‘i tuáº§n nha bÃ© iu ğŸ’ƒ",
  "Thá»© 7": "ğŸŒ· Thá»© 7 chill nháº¹ cÃ¹ng anh Huyphat ğŸ˜˜",
  "Chá»§ Nháº­t": "ğŸŒˆ Chá»§ Nháº­t nghá»‰ ngÆ¡i, yÃªu thÆ°Æ¡ng báº£n thÃ¢n nha bÃ© ğŸ’Œ"
};

const surpriseMeals = {
  "Thá»© 2": "ğŸ® Pudding háº¡t chia Ã­t Ä‘Æ°á»ng",
  "Thá»© 3": "ğŸ“ Sinh tá»‘ dÃ¢u khÃ´ng Ä‘Æ°á»ng",
  "Thá»© 4": "ğŸ° BÃ¡nh flan nhÃ  lÃ m",
  "Thá»© 5": "ğŸœ Miáº¿n gÃ  rau cá»§",
  "Thá»© 6": "ğŸ¥— Salad trá»©ng cÃºt",
  "Thá»© 7": "ğŸ§ Sá»¯a chua trÃ¡i cÃ¢y",
  "Chá»§ Nháº­t": "ğŸ  Khoai lang nÆ°á»›ng máº­t ong"
};
const loveMessages = {
  "Thá»© 2": "ğŸ’Œ BÃ© Minh Nguyá»‡t Æ¡i, tuáº§n má»›i báº¯t Ä‘áº§u rá»“i nÃ¨! Anh Huyphat chÃºc bÃ© trÃ n Ä‘áº§y nÄƒng lÆ°á»£ng vÃ  luÃ´n má»‰m cÆ°á»i nha ğŸ˜˜",
  "Thá»© 3": "ğŸŒ¼ BÃ© Æ¡i, hÃ´m nay nháº¹ nhÃ ng nhÆ° náº¯ng sá»›m. Anh Huyphat gá»­i bÃ© má»™t cÃ¡i Ã´m áº£o tháº­t áº¥m Ã¡p nha ğŸ’–",
  "Thá»© 4": "ğŸŒ¸ Giá»¯a tuáº§n rá»“i Ä‘Ã³ bÃ©! Anh Huyphat tin bÃ© sáº½ vÆ°á»£t qua má»i thá»­ thÃ¡ch vá»›i ná»¥ cÆ°á»i xinh Ä‘áº¹p ğŸ˜š",
  "Thá»© 5": "ğŸŒº BÃ© Minh Nguyá»‡t Æ¡i, hÃ´m nay anh gá»­i bÃ© má»™t bÃ³ hoa tinh tháº§n. BÃ© nhá»› yÃªu báº£n thÃ¢n vÃ  Äƒn uá»‘ng Ä‘áº§y Ä‘á»§ nha ğŸ’Œ",
  "Thá»© 6": "ğŸŒ» Cuá»‘i tuáº§n gáº§n tá»›i rá»“i Ä‘Ã³ bÃ©! Anh Huyphat chÃºc bÃ© má»™t ngÃ y tháº­t chill vÃ  dá»… thÆ°Æ¡ng nhÆ° chÃ­nh bÃ© váº­y ğŸ˜˜",
  "Thá»© 7": "ğŸ‰ Thá»© 7 bung xÃµa nha bÃ© iu! Anh Huyphat luÃ´n á»Ÿ Ä‘Ã¢y cá»• vÅ© bÃ© tá»«ng khoáº£nh kháº¯c ğŸ’–",
  "Chá»§ Nháº­t": "ğŸŒˆ Chá»§ Nháº­t lÃ  ngÃ y nghá»‰ ngÆ¡i nÃ¨ bÃ©! Anh Huyphat chÃºc bÃ© thÆ° giÃ£n, ngá»§ ngon, vÃ  mÆ¡ Ä‘áº¹p nha ğŸ˜š"
};

function populateDaySelector() {
  daySelector.innerHTML = "";

  Object.keys(menus).forEach(day => {
    const option = document.createElement("option");
    option.value = day;
    option.innerText = `${menus[day].icon} ${day}`;
    daySelector.appendChild(option);
  });
}


function updateClock() {
  const now = new Date();

  // Láº¥y thá»© hiá»‡n táº¡i Ä‘Ãºng chuáº©n
  const dayNames = ["Chá»§ Nháº­t", "Thá»© 2", "Thá»© 3", "Thá»© 4", "Thá»© 5", "Thá»© 6", "Thá»© 7"];
  const currentDay = dayNames[now.getDay()];
  const icon = menus[currentDay]?.icon || "ğŸ»"; // fallback náº¿u thiáº¿u

  // Láº¥y ngÃ y giá» hiá»‡n táº¡i
  const time = now.toLocaleTimeString("vi-VN");
  const date = now.toLocaleDateString("vi-VN");

  // Hiá»ƒn thá»‹ thá»i gian vÃ  lá»i chÃ o
  timeDisplay.innerText = `ğŸ•’ ${icon} ${currentDay}, ${date} - ${time}`;
  dailyGreeting.innerText = greetings[currentDay] || "ğŸŒ ChÃºc bÃ© má»™t ngÃ y tuyá»‡t vá»i nha ğŸ˜˜";

  // Äá»•i mÃ u ná»n theo giá»
  const hour = now.getHours();
  if (hour >= 18 || hour < 6) {
    document.body.style.background = "linear-gradient(to right, #d1c4e9, #b39ddb)";
  } else {
    document.body.style.background = "linear-gradient(to right, #ffe4f1, #f8bbd0)";
  }
}




setInterval(updateClock, 1000);

function enterSite() {
  const nameInput = document.getElementById("nameInput");
  const name = nameInput.value.trim();

  if (!name) {
    alert("BÃ© Æ¡i, nháº­p tÃªn trÆ°á»›c khi vÃ o nha ğŸ˜˜");
    return;
  }

  // LÆ°u tÃªn vÃ o localStorage
  localStorage.setItem("minhnguyet_name", name);

  // Hiá»ƒn thá»‹ giao diá»‡n chÃ­nh
  document.getElementById("loginScreen").style.display = "none";
  document.getElementById("mainContent").style.display = "block";
  daySelector.style.display = "block";
  document.querySelector("button[onclick='sendLove()']").style.display = "block";
  noteSection.style.display = "block";

  // Lá»i chÃ o dá»… thÆ°Æ¡ng
  const welcome = document.createElement("div");
  welcome.innerHTML = `ğŸ’– <b>ChÃ o bÃ© ${name}</b>, anh Huyphat Ä‘Ã£ chuáº©n bá»‹ thá»±c Ä‘Æ¡n riÃªng cho bÃ© nÃ¨!`;
  welcome.style.textAlign = "center";
  welcome.style.marginTop = "20px";
  welcome.style.color = "#d81b60";
  welcome.style.fontSize = "18px";
  document.body.appendChild(welcome);

  // Táº¡o dropdown ngÃ y cÃ³ icon
  populateDaySelector();

  // Gáº¯n sá»± kiá»‡n khi bÃ© chá»n ngÃ y
  daySelector.onchange = () => {
    const selectedDay = daySelector.value;
    showMenu(selectedDay);
    loadNote(selectedDay);
  };

  // Hiá»ƒn thá»‹ thá»±c Ä‘Æ¡n Ä‘Ãºng ngÃ y hiá»‡n táº¡i
  const today = new Date();
  const dayNames = ["Chá»§ Nháº­t", "Thá»© 2", "Thá»© 3", "Thá»© 4", "Thá»© 5", "Thá»© 6", "Thá»© 7"];
  const currentDay = dayNames[today.getDay()];
  daySelector.value = currentDay;
  showMenu(currentDay);
  loadNote(currentDay);
}



function showMenu(day) {
  menuDisplay.innerHTML = "";

  const meals = menus[day].meals;
  for (let meal in meals) {
    const div = document.createElement("div");
    div.className = "meal";
    div.innerHTML = `<h3>${meal}</h3><p>${meals[meal]}</p>`;
    menuDisplay.appendChild(div);
  }

  const surprise = document.createElement("div");
  surprise.style.textAlign = "center";
  surprise.style.marginTop = "15px";
  surprise.style.color = "#d81b60";
  surprise.style.fontSize = "16px";
  surprise.innerHTML = `ğŸ <b>MÃ³n báº¥t ngá» hÃ´m nay:</b> ${surpriseMeals[day]}<br>ğŸ’Œ BÃ© thá»­ mÃ³n nÃ y nha, vá»«a ngon vá»«a nháº¹ nhÃ ng ğŸ˜˜`;
  menuDisplay.appendChild(surprise);

  showGame(meals);
  loadNote(day);
}

function saveNote() {
  const day = daySelector.value;
  const now = new Date();
  const dateStr = now.toLocaleDateString("vi-VN");
  const timeStr = now.toLocaleTimeString("vi-VN");
  const fullDate = `${menus[day].icon} ${day}, ${dateStr} - ${timeStr}`;

  const noteContent = dailyNote.value.trim();
  if (!noteContent) {
    alert("ğŸ“Œ BÃ© chÆ°a ghi gÃ¬ háº¿t Ä‘Ã³ nha!");
    return;
  }

  const noteData = {
    content: noteContent,
    timestamp: fullDate
  };

  localStorage.setItem("note_" + day, JSON.stringify(noteData));

  const msg = document.createElement("div");
  msg.className = "popup";
  msg.innerHTML = `âœ… Ghi chÃº Ä‘Ã£ lÆ°u cho <b>${day}</b> lÃºc <i>${timeStr}</i><br>ğŸ’Œ BÃ© nhá»› giá»¯ tinh tháº§n tÃ­ch cá»±c nha ğŸ˜˜`;
  document.body.appendChild(msg);
  msg.style.display = "block";
  setTimeout(() => {
    msg.style.display = "none";
    msg.remove();
  }, 4000);
}

function loadNote(day) {
  const saved = localStorage.getItem("note_" + day);
  if (saved) {
    const noteData = JSON.parse(saved);
    dailyNote.value = noteData.content;

    const info = document.createElement("div");
    info.style.textAlign = "center";
    info.style.marginTop = "10px";
    info.style.color = "#6a1b9a";
    info.innerHTML = `ğŸ—’ï¸ Ghi chÃº Ä‘Ã£ lÆ°u cho <b>${day}</b> lÃºc <i>${noteData.timestamp}</i>`;
    noteSection.appendChild(info);
    setTimeout(() => info.remove(), 5000);
  } else {
    dailyNote.value = "";
  }
}

function deleteNote() {
  const day = daySelector.value;
  const confirmDelete = confirm(`ğŸ—‘ï¸ BÃ© cÃ³ cháº¯c muá»‘n xÃ³a ghi chÃº cá»§a ${day} khÃ´ng?`);
  if (confirmDelete) {
    localStorage.removeItem("note_" + day);
    dailyNote.value = "";
    alert(`âœ… Ghi chÃº cá»§a ${day} Ä‘Ã£ Ä‘Æ°á»£c xÃ³a rá»“i nha bÃ© ğŸ˜˜`);
  }
}
function sendLove() {
  const now = new Date();
  const dayNames = ["Chá»§ Nháº­t", "Thá»© 2", "Thá»© 3", "Thá»© 4", "Thá»© 5", "Thá»© 6", "Thá»© 7"];
  const currentDay = dayNames[now.getDay()];
  const message = loveMessages[currentDay] || "ğŸ’– BÃ© Minh Nguyá»‡t Æ¡i, anh Huyphat luÃ´n thÆ°Æ¡ng bÃ© má»—i ngÃ y ğŸ˜˜";

  const msg = document.createElement("div");
  msg.className = "popup";
  msg.innerHTML = message;
  document.body.appendChild(msg);
  msg.style.display = "block";
  setTimeout(() => {
    msg.style.display = "none";
    msg.remove();
  }, 5000);

  const heart = document.createElement("div");
  heart.className = "heart";
  heart.style.left = Math.random() * window.innerWidth + "px";
  heart.innerText = "ğŸ’–";
  document.body.appendChild(heart);
  setTimeout(() => heart.remove(), 6000);
}

function showGame(meals) {
  const gameDiv = document.createElement("div");
  gameDiv.className = "game";
  gameDiv.innerHTML = "<h3>ğŸ® BÃ© chá»n mÃ³n yÃªu thÃ­ch hÃ´m nay nÃ¨!</h3>";

  Object.values(meals).forEach(meal => {
    const btn = document.createElement("button");
    btn.innerText = meal;
    btn.onclick = () => {
      const popupMsg = document.createElement("div");
      popupMsg.className = "popup";
      popupMsg.innerHTML = `ğŸ‰ BÃ© chá»n mÃ³n <b>${meal}</b> rá»“i Ä‘Ã³ nha!<br>ğŸ’Œ MÃ³n nÃ y sáº½ giÃºp bÃ© khá»e máº¡nh vÃ  xinh Ä‘áº¹p hÆ¡n má»—i ngÃ y ğŸ˜˜`;
      document.body.appendChild(popupMsg);
      popupMsg.style.display = "block";
      setTimeout(() => {
        popupMsg.style.display = "none";
        popupMsg.remove();
      }, 4000);

      const heart = document.createElement("div");
      heart.className = "heart";
      heart.style.left = Math.random() * window.innerWidth + "px";
      heart.innerText = "ğŸ’–";
      document.body.appendChild(heart);
      setTimeout(() => heart.remove(), 6000);
    };
    gameDiv.appendChild(btn);
  });

  menuDisplay.appendChild(gameDiv);
}
setInterval(() => {
  const heart = document.createElement('div');
  heart.className = 'heart';
  heart.style.left = Math.random() * window.innerWidth + 'px';
  heart.innerText = 'ğŸ’—';
  document.body.appendChild(heart);
  setTimeout(() => heart.remove(), 6000);
}, 800);

setTimeout(() => {
  const popup = document.createElement("div");
  popup.className = "popup";
  popup.innerHTML = `ğŸŒŸ BÃ© Minh Nguyá»‡t Æ¡i, hÃ´m nay bÃ© Ä‘Ã£ lÃ m ráº¥t tá»‘t rá»“i Ä‘Ã³ nha!<br>ğŸ’– Anh Huyphat luÃ´n á»Ÿ Ä‘Ã¢y á»§ng há»™ bÃ© ğŸ˜˜`;
  document.body.appendChild(popup);
  popup.style.display = "block";
  setTimeout(() => {
    popup.style.display = "none";
    popup.remove();
  }, 5000);
}, 10000);


const monthNames = [
  "ğŸŒ¸ ThÃ¡ng 1", "ğŸŒ¼ ThÃ¡ng 2", "ğŸŒ ThÃ¡ng 3", "ğŸŒ· ThÃ¡ng 4",
  "ğŸŒº ThÃ¡ng 5", "ğŸŒˆ ThÃ¡ng 6", "ğŸ‰ ThÃ¡ng 7", "ğŸŒ» ThÃ¡ng 8",
  "ğŸ‚ ThÃ¡ng 9", "ğŸƒ ThÃ¡ng 10", "â„ï¸ ThÃ¡ng 11", "ğŸ„ ThÃ¡ng 12"
];

function setupSelectors() {
  const monthSelector = document.getElementById("monthSelector");
  const yearSelector = document.getElementById("yearSelector");
  const now = new Date();

  // Táº¡o dropdown thÃ¡ng
  monthNames.forEach((name, index) => {
    const option = document.createElement("option");
    option.value = index;
    option.innerText = name;
    monthSelector.appendChild(option);
  });

  // Táº¡o dropdown nÄƒm vá»›i icon
  const yearIcons = ["ğŸ“…", "ğŸ‰", "ğŸ’–", "ğŸŒŸ", "ğŸ€", "ğŸ§", "ğŸ­", "ğŸˆ", "ğŸª„", "ğŸ°", "ğŸ§¸", "ğŸ¶", "ğŸŒˆ", "ğŸ¦„", "ğŸ’«"];
  for (let i = 0; i < 7; i++) {
    const y = now.getFullYear() - 3 + i;
    const option = document.createElement("option");
    const icon = yearIcons[i % yearIcons.length];
    option.value = y;
    option.innerText = `${icon} NÄƒm ${y}`;
    yearSelector.appendChild(option);
  }

  // KhÃ´i phá»¥c thÃ¡ng/nÄƒm Ä‘Ã£ chá»n náº¿u cÃ³
  const savedMonth = localStorage.getItem("calendar_month");
  const savedYear = localStorage.getItem("calendar_year");

  monthSelector.value = savedMonth !== null ? savedMonth : now.getMonth();
  yearSelector.value = savedYear !== null ? savedYear : now.getFullYear();

  // Gáº¯n sá»± kiá»‡n thay Ä‘á»•i
  monthSelector.onchange = () => {
    localStorage.setItem("calendar_month", monthSelector.value);
    generateCalendar();
  };

  yearSelector.onchange = () => {
    localStorage.setItem("calendar_year", yearSelector.value);
    generateCalendar();
  };
}

function generateCalendar() {
  const container = document.getElementById("calendarContainer");
  const title = document.getElementById("calendarTitle");
  const month = parseInt(document.getElementById("monthSelector").value);
  const year = parseInt(document.getElementById("yearSelector").value);
  container.innerHTML = "";

  const daysInMonth = new Date(year, month + 1, 0).getDate();
  title.innerText = `ğŸ“… ${monthNames[month]} nÄƒm ${year}`;

  for (let day = 1; day <= daysInMonth; day++) {
    const dateKey = `${year}-${month + 1}-${day}`;
    const div = document.createElement("div");
    div.className = "day";
    div.innerText = day;

    if (localStorage.getItem("checked_" + dateKey)) {
      div.classList.add("checked");
    }

    div.onclick = () => {
      div.classList.toggle("checked");
      if (div.classList.contains("checked")) {
        localStorage.setItem("checked_" + dateKey, "true");
      } else {
        localStorage.removeItem("checked_" + dateKey);
      }
    };

    container.appendChild(div);
  }
}

// Khá»Ÿi Ä‘á»™ng lá»‹ch
setupSelectors();
generateCalendar();



</script>
</body>
</html>
